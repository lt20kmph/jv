{% macro image_item(path, caption, image_id, gallery_id) %}
<div class="gallery-item">
  <img src="/{{path}}.thumbnail.jpg" alt="{{caption}}" hx-get="/galleries/{{gallery_id}}/lightbox/{{image_id}}" hx-target="#lightbox">
  <div class="gallery-item-footer">
    <p class="gallery-item-caption">{{caption}}</p>
    <svg fill="currentColor" height="16px" width="16px" version="1.1" 
         class="clickable-icon gallery-item-delete" 
         xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
         viewBox="0 0 465.311 465.311" xml:space="preserve" 
         hx-delete="/img/{{image_id}}" 
         hx-confirm="Are you sure you want to delete this image?"
         hx-target="closest .gallery-item" 
         hx-swap="delete">
      <g>
        <path d="M372.811,51.002h-59.908V36.566C312.902,16.404,296.499,0,276.335,0h-87.356c-20.163,0-36.567,16.404-36.567,36.566v14.436 H92.5c-20.726,0-37.587,16.861-37.587,37.587v38.91c0,8.284,6.716,15,15,15h7.728v307.812c0,8.284,6.716,15,15,15H372.67 c8.284,0,15-6.716,15-15V142.499h7.728c8.284,0,15-6.716,15-15v-38.91C410.397,67.863,393.536,51.002,372.811,51.002z M182.412,36.566c0-3.621,2.946-6.566,6.567-6.566h87.356c3.621,0,6.567,2.946,6.567,6.566v14.436h-100.49V36.566z M84.914,88.589 c0-4.184,3.403-7.587,7.587-7.587h280.31c4.184,0,7.587,3.403,7.587,7.587v23.91H84.914V88.589z M357.67,435.311H107.641V142.499 H357.67V435.311z" />
        <path d="M137.41,413.485c5.523,0,10-4.477,10-10V166.497c0-5.523-4.477-10-10-10s-10,4.477-10,10v236.988 C127.41,409.008,131.887,413.485,137.41,413.485z" />
        <path d="M200.907,413.485c5.523,0,10-4.477,10-10V166.497c0-5.523-4.477-10-10-10s-10,4.477-10,10v236.988 C190.907,409.008,195.384,413.485,200.907,413.485z" />
        <path d="M264.404,413.485c5.523,0,10-4.477,10-10V166.497c0-5.523-4.477-10-10-10s-10,4.477-10,10v236.988 C254.404,409.008,258.881,413.485,264.404,413.485z" />
        <path d="M327.901,413.485c5.523,0,10-4.477,10-10V166.497c0-5.523-4.477-10-10-10s-10,4.477-10,10v236.988 C317.901,409.008,322.378,413.485,327.901,413.485z" />
      </g>
    </svg>
  </div>
</div>
{% endmacro input %}

{% macro gallery_item(gallery) %}
<div class="gallery-tile">
  <a href="/galleries/{{gallery.id}}" class="no-underline">
    <div class="image-container">
      {% if gallery.example_image_path %}
      <img src="/{{gallery.example_image_path}}" alt="Gallery Cover" data-tippy-content="View Gallery">
      {% else %}
      <img src="/icons/camera.svg" alt="Gallery Cover" class="gallery-placeholder" data-tippy-content="Add Images">
      {% endif %}
    </div>
  </a>
  <div class="info-container">
    <div class="editable-title">
      <h2 class="title gallery-title">{{gallery.name}}</h2>
      <input type="text" class="gallery-title-input hidden" value="{{gallery.name}}" hx-put="/galleries/{{gallery.id}}"
        name="name" hx-trigger="keyup delay:500ms, keyup[key=='Enter']">
      <img class="edit-icon" src="/icons/edit-pencil.svg" alt="Edit" width="16" height="16"></img>
    </div>
    <div class="details">
      <span class="image-count">{{gallery.image_count}} images</span>
      <span class="creation-date">{{gallery.time_created_human}}</span>
    </div>
    <div class="details">
      <span class="created-by">Created by: {{gallery.created_by}}</span>
      <img class="clickable-icon" src="/icons/trash.svg" alt="Delete" width="16" height="16"
        hx-delete="/galleries/{{gallery.id}}" hx-confirm="Are you sure you want to delete this gallery?"
        hx-target="closest .gallery-tile" hx-swap="delete">
      </img>
    </div>
  </div>
</div>
{% endmacro input %}
